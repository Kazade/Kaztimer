CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

PROJECT(kaztimer)

SET(KAZTIMER_SOURCES
    ${CMAKE_SOURCE_DIR}/kaztimer/kaztimer.cpp
)

SET(KAZTIMER_HEADERS
    ${CMAKE_SOURCE_DIR}/kaztimer/kaztimer.h
)

SET(CMAKE_CXX_FLAGS "-std=c++11")
LINK_LIBRARIES(
    -lrt
)

ADD_LIBRARY(kaztimer SHARED ${KAZTIMER_SOURCES})
SET_TARGET_PROPERTIES(kaztimer
                      PROPERTIES
                      VERSION 0.0.1
                      SOVERSION 1)
INSTALL(TARGETS kaztimer DESTINATION lib)

INSTALL(FILES ${KAZTIMER_HEADERS} DESTINATION include/kaztimer)
INSTALL(FILES ${CMAKE_CURRENT_SOURCE_DIR}/cmake_modules/KAZTIMERConfig.cmake DESTINATION ${CMAKE_INSTALL_PREFIX}/share/kaztimer)

